<template>
  <div class="row">
    <div class="col-12 title">
      <h2>Qual o melhor video game???</h2>
    </div>
    <opcao-votacao
      :enabled="openVoting"
      :option="option1.code"
      :name="option1.name"
      :image-url="option1.image"
      :percentual="percentual(option1)"
      :vote-count="option1.votes"
      @voted="vote"
    ></opcao-votacao>
    <opcao-votacao
      :enabled="openVoting"
      :option="option2.code"
      :name="option2.name"
      :image-url="option2.image"
      :percentual="percentual(option2)"
      :vote-count="option2.votes"
      @voted="vote"
    ></opcao-votacao>
    <opcao-votacao
      :enabled="openVoting"
      :option="option3.code"
      :name="option3.name"
      :image-url="option3.image"
      :percentual="percentual(option3)"
      :vote-count="option3.votes"
      @voted="vote"
    ></opcao-votacao>
    <div class="result item-percentual">
      <h1 v-if="!openVoting">
        <img :src="pokemonImage" alt="" /> Ganhador: {{ winner.name }}
      </h1>
      <h3>Total de votos: {{ totalVotes }}</h3>
    </div>
  </div>
</template>

<script>
import axios from "axios";
import OpcaoVotacao from "./OpcaoVotacao";

const MAX_VOTES = 20;

export default {
  components: {
    OpcaoVotacao,
  },
  data() {
    return {
      totalVotes: 0,
      option1: {
        code: "1",
        name: "Playstation 4",
        image:
          "data:image/jpeg;base64,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",
        votes: 0,
      },
      option2: {
        code: "2",
        name: "XBox One",
        image:
          "data:image/jpeg;base64,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",
        votes: 0,
      },
      option3: {
        code: "3",
        name: "Nintendo Switch",
        image:
          "data:image/jpeg;base64,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",
        votes: 0,
      },
      openVoting: true,
      pokemonImage: null,
    };
  },
  watch: {
    totalVotes() {
      if (this.totalVotes >= MAX_VOTES) this.openVoting = false;
    },
    openVoting() {
      if (!this.openVoting) {
        this.loadPokemon();
      }
    },
  },
  computed: {
    winner() {
      let options = [this.option1, this.option2, this.option3];

      options.sort((a, b) => {
        return a.votes - b.votes;
      });

      return options.reverse()[0];
    },
  },
  methods: {
    vote(ev) {
      let votedOption = this["option" + ev.option];

      votedOption.votes++;
      this.totalVotes++;
    },
    percentual(option) {
      try {
        let percentual = (option.votes * 100) / this.totalVotes;
        if (Number.isNaN(percentual) || this.totalVotes == 0) return "0%";
        return percentual.toFixed(2) + "%";
      } catch (err) {
        return "0%";
      }
    },
    async loadPokemon() {
      let pokemonId = Math.floor(Math.random() * (50 - 1)) + 1;
      let pokemonResponse = await axios.get(
        `https://pokeapi.co/api/v2/pokemon/${pokemonId}`
      );
      this.pokemonImage = pokemonResponse.data.sprites.front_default;
    },
  },
};
</script>

<style>
.title {
  -webkit-border-top-left-radius: 50px;
  -webkit-border-top-right-radius: 50px;
  -moz-border-radius-topleft: 50px;
  -moz-border-radius-topright: 50px;
  border-top-left-radius: 50px;
  border-top-right-radius: 50px;
  background-color: #27ae60;
  font-weight: 600;
}

.item-image {
  margin: 15px;
  height: 217px;
  vertical-align: middle;
}

.item {
  text-align: center;
}

.item-image img {
  max-width: 100%;
  height: auto;
}

.item-percentual {
  margin-top: 15px;
  font-weight: 600;
  font-size: 16px;
  width: 100%;
  text-align: center;
}

.item1 {
  background-color: #3498db;
}

.item2 {
  background-color: #bdc3c7;
}

.item3 {
  background-color: #e74c3c;
}

.result {
  -webkit-border-bottom-right-radius: 50px;
  -webkit-border-bottom-left-radius: 50px;
  -moz-border-radius-bottomright: 50px;
  -moz-border-radius-bottomleft: 50px;
  border-bottom-right-radius: 50px;
  border-bottom-left-radius: 50px;
  background-color: #f1c40f;
  margin-top: 0px;
}
</style>
